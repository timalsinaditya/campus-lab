ORG 00H

MOV 20H, #03FH
MOV 21H, #006H
MOV 22H, #05BH
MOV 23H, #04FH
MOV 24H, #066H
MOV 25H, #06DH
MOV 26H, #07DH
MOV 27H, #007H
MOV 28H, #07FH
MOV 29H, #06FH

MOV 40H, #03FH
MOV 41H, #007H
MOV 42H, #007H
MOV 43H, #07CH
MOV 44H, #079H
MOV 45H, #030H

DISPLAY:
MOV R2, #01H ;rollno
MOV R3, #018H

GENERATE:
MOV A, R2
MOV B, #064H
DIV AB
ORL A, #20H
MOV R0, A
MOV 46H, @R0
MOV A, B
MOV B, #0AH
DIV AB
ORL A, #20H
MOV R0, A
MOV 47H, @R0
MOV A, B
ORL A, #20H
MOV R0, A
MOV A, @R0
ORL A, #80H
MOV 48H, A

MOV R0, #09H
MOV B, #0H

AGAIN:
	MOV A, B
	ORL A, #40H
	MOV 30H, A
	MOV R6, #08H
OUTER:
	MOV R7, #010H
INNER:
	MOV R1, 30H
	
	MOV P0, @R1
	MOV P2, #01H
	LCALL SDELAY
	MOV P2, #00H
	
	LCALL SET_R1
	
	MOV P0, @R1
	MOV P2, #02H
	LCALL SDELAY
	MOV P2, #00H
	
	LCALL SET_R1
	
	MOV P0, @R1
	MOV P2, #04H
	LCALL SDELAY
	MOV P2, #00H
	
	LCALL SET_R1
	
	MOV P0, @R1
	MOV P2, #08H
	LCALL SDELAY
	MOV P2, #00H

	DJNZ R7, INNER
	DJNZ R6, OUTER
	
	INC B
	DJNZ R0, AGAIN
	
	INC R2
	DJNZ R3, GENERATE
LJMP DISPLAY

SET_R1:
	MOV A, R1
	CLR C
	SUBB A, #048H
	JNZ YES_INC
	MOV R1, #40H
	SJMP RETURN
	YES_INC:
	INC R1
	RETURN:
RET

SDELAY:
	MOV R5, #018H
	SOUTER:
	MOV R4, #018H

	SINNER:
	DJNZ R4, SINNER
	DJNZ R5, SOUTER
RET
	
END